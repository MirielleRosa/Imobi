{% extends "pages/base.html" %}
{% block subtitulo %}Detalhes do Imóvel {{imovel.nome}}{% endblock %}
{% block conteudo %}
<div class="row mt-3">
    <h1>{{imovel.titulo}}</h1>
    <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
            {% set imagens_secundarias = imovel.imagens_secundarias.split(',') %}
            {% for i in range(1, imagens_secundarias|length + 1) %}
            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="{{i}}" aria-label="Slide {{i + 1}}"></button>
            {% endfor %}
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <div class="d-flex align-items-center justify-content-center" style="height: 500px;">
                    <img src="{{imovel.imagem_principal}}" class="h-100" alt="Imagem principal">
                </div>
            </div>
            {% for imagem in imagens_secundarias %}
            <div class="carousel-item">
                <div class="d-flex align-items-center justify-content-center" style="height: 500px;">
                    <img src="{{imagem.strip()}}" class="h-100" alt="Imagem secundária">
                </div>
            </div>
            {% endfor %}
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
    <div class="d-flex mt-5 justify-content-center gap-5">
        <div class="d-flex align-items-center">
            <i class="bi bi-house fs-1"></i>
            <p class="mb-0 ms-2">CASA</p>
        </div>
        <div class="d-flex align-items-center">
            <img src="../../../static/img/icon-area.svg" alt="Área" style="width: 60px; height: 60px;">
            <p class="mb-0 ms-2">{{imovel.area}} m²</p>
        </div>
        <div class="d-flex align-items-center">
            <i class="bi bi-geo-alt fs-1"></i>
            <p class="mb-0 ms-2">{{imovel.nome_cidade}}</p>
        </div>
        <div class="mt-3 col-6">
            <div class="justify-content-center">
                <div class="mx-2">
                    <div class="p-3 bg-light text-dark rounded d-flex align-items-center justify-content-between">
                        <h3 class="font-weight-bold m-0" style="font-family: 'Merriweather', serif;">
                            R$ {{"{:,.2f}".format(imovel.preco)}}
                        </h3>
                        <a href="/imovel/{{imovel.id}}" class="btn btn-primary">Entre em Contato</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="mt-5 row">
    <div class="col-4">
        <img src="{{imovel.imagem_principal}}" class="img-thumbnail">
    </div>
    <div class="col-8">
        <p class="lead texto-1-linha">{{imovel.descricao}}</p>
        <ul class="nav nav-tabs mb-2">
            <li class="nav-item">
                <a class="nav-link text-dark active" href="#" data-bs-toggle="tab" data-bs-target="#divDescricao">Descrição</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-dark" href="#" data-bs-toggle="tab" data-bs-target="#divEspecs">Especificações Técnicas</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-dark" href="#" data-bs-toggle="tab" data-bs-target="#divGarantia">Garantia</a>
            </li>
        </ul>
        <div class="tab-content" id="tab-content">
            <div class="tab-pane active" id="divDescricao">
                {{imovel.descricao}}
            </div>
            <div class="tab-pane" id="divEspecs">
                {{imovel.descricao}}
            </div>
            <div class="tab-pane" id="divGarantia">
                Garantia legal de 90 dias contra defeitos de fabricação e garantia adicional de 1 ano oferecida pelo fabricante.
            </div>
        </div>
        <p></p>
        <p class="lead mb-0">
            <span class="small">De <s>R$ {{"{:,.2f}".format(imovel.preco*1.1)}}</s></span>
        </p>
        <p class="lead">
            Por <b>R$ {{"{:,.2f}".format(imovel.preco)}}</b>
        </p>
    </div>
</div>
{% endblock %}
